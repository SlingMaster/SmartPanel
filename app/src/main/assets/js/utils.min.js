function getTodVisual(){var c=0;var b=new Date();var a=b.getHours();if((a<3)||(a>20)){c=0}if((a>2)&(a<9)){c=1}if((a>8)&(a<15)){c=2}if((a>14)&(a<21)){c=3}return c}function getTimeOfDay(){var c=0;var b=new Date();var a=b.getHours();if((a<3)||(a>20)){c=0}if((a>2)&(a<9)){c=1}if((a>8)&(a<15)){c=2}if((a>14)&(a<21)){c=3}return c}function isPanScan(){return(window.innerWidth/window.innerHeight>1.6)}function isDefined(a){return(a!==null&&a!==undefined)}function isUndefined(a){return(a===null||a===undefined)}function isPresent(a){return(a!==null&&a!==undefined&&a!=="")}function byBool(a){return(a===true||a==="true")}function notCarry(){}function isObj(b){var c=document.getElementById(b);var a=c?true:false;return a}function removeObject(a){var b=document.getElementById(a);if(b!==null){b.parentNode.removeChild(b)}}function createJSONAppRequest(b,a){if(isUndefined(a)){return{id:b,content:{}}}return{id:b,content:a}}function animationItemScrollView(b){var a;a=document.getElementById(b);if(a!==null){window.setTimeout(function(){a.scrollIntoView()},500)}}function isOdd(b){var a=b/2;return a===Math.floor(a)}function sendMesssegeWindowParent(b,d,c){var a={key:b,cmd:d,json:c};window.parent.postMessage(JSON.stringify(a),"*")}function addOnmessageEventsListener(){if(typeof window.addEventListener!=="undefined"){window.addEventListener("message",onMessageCrossDomain,false)}else{if(typeof window.attachEvent!=="undefined"){window.attachEvent("onmessage",onMessageCrossDomain)}}}var onMessageCrossDomain=function(h){h.stopPropagation();var d=h.data;var a=h.origin;var g="";var c={};if(isDefined(h.data)){var f=((typeof d)==="string")?JSON.parse(d):d;var b=f.key;console.log("[]");console.info("[res] onMessageCrossDomain | key: "+b+" | data: "+d);if(b===RESPONSE){JavaScriptCallback(parseInt(f.cmd),f.json)}if(b===EXTERNAL_CTRL){console.log(" ");externalControlUI(f.cmd,f.json)}if(b==="client_req"){g=f.cmd;c=f.jsonData;JavaScriptCallback(g,c)}}else{console.error("onMessageCrossDomain | No Data Available ",a)}};function externalControlUI(c,a){console.info("externalControlUI",c);var b=a.state||false;switch(c){case"id.refresh":location.reload(true);break;case"id.back":window.setTimeout(function(){JavaScriptCallback(CMD_BACK,{})},20);break;case"debug_view":$("div").toggleClass("no_stroke",b);$("li").toggleClass("no_stroke",b);$("ul").toggleClass("no_stroke",b);break;case"id.grid":$("div").toggleClass("cs_grid");break;case"overscan":$("div").toggleClass("hide_overflow",a);console.info("overscan");break;case"id.scroll_down":$(".cs_scroll_y").animate({scrollTop:8000},"slow");break;case"id.scroll_up":$(".cs_scroll_y").animate({scrollTop:0},"slow");break}}function getBrowser(){var a=navigator.userAgent;if(a.search(/MSIE/)>0){return"MSIE"}if(a.search(/Firefox/)>0){return"Firefox"}if(a.search(/Opera/)>0){return"Opera"}if(a.search(/Chrome/)>0){return"Chrome"}if(a.search(/Safari/)>0){return"Safari"}if(a.search(/Konqueror/)>0){return"Konqueror"}if(a.search(/Iceweasel/)>0){return"Iceweasel"}if(a.search(/SeaMonkey/)>0){return"SeaMonkey"}if(a.search(/Gecko/)>0){return"Gecko"}return"N/A"}function getAndroidVersion(b){b=(b||navigator.userAgent).toLowerCase();var a=b.match(/android\s([0-9\.]*)/);return a?a[1]:false}function isiOS(){return window.navigator.userAgent.match(/(iPhone|iPad|iPod)/)}function iOSVersion(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||false}function isiPad(){return window.navigator.userAgent.match(/iPad/i)}function isTouchDevice(){return(/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent))}function getValidDate(b){if(isUndefined(b)){return}var a=new Date(b);return a}function formatXX(a,b){var c=a+"";while(c.length<b){c="0"+c}return c}function uniqueKey(a){var c={};for(var b=0;b<a.length;b++){var d=a[b];c[d]=true}return Object.keys(c)}function getTimeFormatUTC(d){var b=Date.parse(d);var e="en-US";var a={year:"numeric",month:"long",day:"numeric",timezone:"UTC",hour:"numeric",minute:"numeric",second:"numeric"};var c=isNaN(b)?"&#8226;":new Date(b).toLocaleString(e,a);return c}function getServerSensorData(a,b){$.ajax({type:"GET",url:a,dataType:"json"}).done(function(c){if(c.status==="ZERO_RESULTS"){console.error("Error of performance | status : ZERO_RESULTS")}else{b(c)}}).error(function(){console.error("Error of performance")})}function createXHR(){var d=false;try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){try{d=new XMLHttpRequest()}catch(c){d=false}}}return d}function loadTextFile(d,a){var b="";var c=createXHR();c.open("GET",d,a);c.onreadystatechange=function(){if(c.readyState===4){if(c.status!==404){b=c.responseText}}};c.send(null);return b}function loadJSON(b){var a=loadTextFile(b);if(a===null){return{}}return JSON.parse(a)}function showUI(){var a=document.getElementById("win");if(a!=null){a.classList.add("css-fade")}createDisplays();sendRequestForESP();ConnectionCloudThingspeak(graph_count,curProperties(lastGraph),setMinMaxData);startAutoSendRequest()}function sendCommandESP(e,b,d,f){var a=b+"?cmd="+d+"&val="+f;var c=document.getElementById(e);c.src=a}function addCrossdomainEventsListener(){if(typeof window.addEventListener!=="undefined"){window.addEventListener("message",onMessageEvent,false)}else{if(typeof window.attachEvent!=="undefined"){window.attachEvent("onmessage",onMessageEvent)}}}var onMessageEvent=function(d){d.stopPropagation();if($("#cloud_srv").hasClass("select")){return}var b=d.data;var a=d.origin;console.warn("onMessageEvent",b," | origin:",a);var c=JSON.parse(b);var f=c.id;json=c.json;printJsonData(f,json);switch(f){case CHIP:json.source="esp";updateWeatherOutDoor(json);break;default:console.warn("onMessageEvent",b," | origin:",a);break}};var z_hashCode=function(a){var b=a.split("").reduce(function(d,c){d=((d<<5)-d)+c.charCodeAt(0);return d&d},0);return(b>>>0).toString()};var z_save_callback=function(b){var a=z_hashCode(b.toString());_callbacks[a]=b;return a};var z_get_callback=function(a){return _callbacks[a]};function printJsonData(c,b){var d="json_list";if(isUndefined(document.getElementById(d))){return}document.getElementById(d).innerHTML='<p style="color:#FFF">chip ID  : '+c+"</p>";var a=b;if(a!==null){for(var e in a){document.getElementById(d).appendChild(document.createTextNode((e+" : "+a[e]+"\n"),null,3))}}};